<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="src/css/styles.css">
    <link rel="stylesheet" href="src/css/dice.css">
    <link rel="stylesheet" href="src/css/game.css">

    <title>Henchmen Hospital</title>
  </head>
  <body>
    <!-- <div class="navBar">
      <a href="index.php">Sign In</a>
      <a href="startScreen.html">Start Screen</a>
      <a href="leaderboard.html">Leaderboard/History</a>
      <a href="game.html">Game</a>
      <a href="gameOverMessage.html">Game Over</a>
      <a href="shop.html">Shop</a>
      <a href="workshop.html">Workshop</a>
    </div> -->

    <div class="wrapperWrapper unselectable" id="gameDiv">
      <div class="wrapper unselectable" id="gameDiv">
        
        <div class="henchmenChart" id="medChart1">
          <div class="clientTabs" id="clientTab1">
            <button class="active chartTabs" onclick="switchChart('medChart1', 'clientTab1', 'clientTab2')">
              Client 1
            </button>
            <button class="chartTabs" onclick="switchChart('medChart2', 'clientTab1', 'clientTab2')">
              Client 2
            </button>
          </div>
          <div id="box"></div>

          <table id="table1">
            <thead>
              <tr>
                <th class="Placeholder">************</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td id="henchName"></td>
              </tr>
            </tbody>
          </table>

          <table id="table2">
            <thead>
              <tr>
                <!-- <th class="Placeholder">******************</th> -->
                <th>Patient Information:</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td id="threshold">Threshold: </td>
              </tr>
              <tr>
                <td id="range">Range: </td>
              </tr>
              <tr>
                <td id="healingFactor">Healing Factor: </td>
              </tr>
              <tr>
                <td id="damage">Malpractice Damage: </td>
              </tr>
              <tr>
                <td id="staminaPenalty">Stamina Penalty: </td>
              </tr>
              <tr>
                <td id="currencyGiven">Currency Given: </td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
            </tbody>

            <thead>
              <tr>
                <th>Notes:</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td id="chartNotes1"></td>
              </tr>
              <!-- <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr> -->
            </tbody>
          </table>
        </div>
        <div class="henchmenChart" id="medChart2">
          <div class="clientTabs" id="clientTab1">
            <button class="chartTabs" onclick="switchChart('medChart1', 'clientTab1', 'clientTab2')">
              Client 1
            </button>
            <button class="chartTabs" onclick="switchChart('medChart2', 'clientTab1', 'clientTab2')">
              Client 2
            </button>
          </div>
          <div id="box"></div>

          <table id="table1">
            <thead>
              <tr>
                <th class="Placeholder">************</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><br></td>
              </tr>
              <tr>
                <td id="henchName2">Next Up</td>
              </tr>
            </tbody>
          </table>

          <table id="table2">
            <thead>
              <tr>
                <th class="Placeholder">******************</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><br></td>
              </tr>
              <tr>
                <td id="threshold2">Threshold: </td>
              </tr>
              <tr>
                <td id="range2">Range: </td>
              </tr>
              <tr>
                <td id="healingFactor2">Healing Factor: </td>
              </tr>
              <tr>
                <td id="damage2">Malpractice Damage: </td>
              </tr>
              <tr>
                <td id="staminaPenalty2">Stamina Penalty: </td>
              </tr>
              <tr>
                <td id="currencyGiven2">Currency Given: </td>
              </tr>
              <tr>
                <td><br></td>
              </tr>
              <tr>
                <td><br></td>
              </tr>
            </tbody>

            <thead>
              <tr>
                <th>Notes:</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td id="chartNotes2"></td>
              </tr>
              <!-- <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr>
              <tr>
                <td><br /></td>
              </tr> -->
            </tbody>
          </table>
        </div>

        <div id="gameLogsTab" class="collapsed">Logs</div>
        <div id="logWrapper">
          <div id="gameLogs" class="collapsed">
            <div id="logTextDiv">
              <p id="logText"></p>
            </div>
          </div>
        </div>

        <div id="henchmenHealth">
          <!-- Health -->
          <div id="henchmenHealth2"></div>
          <!-- Green Bar of health -->
          <span id="health">35/100</span>
        </div>

        <div id="henchman">
          <!-- Placeholder: Henchman portrait -->
        </div>

        <div id="diceContainer">
          <div>
            <button class="diceTabs" onclick="openTab(event, 'diceArea')" id="defaultOpen">
              Dice Area
            </button>
            <button class="diceTabs" onclick="openTab(event, 'specialDice')">
              Special Dice
            </button>
          </div>

          <div id="diceArea" class="diceRolling"></div>
          <div id="specialDice" class="diceRolling"></div>

        </div>
        <button type="button" id="rollDiceBtn">Roll Dice</button>

        <div id="gameStats">
          <div id="stamina">Stamina: 100</div>
          <br>
          <div id="score">Score: 0</div>
          <br>
          <div id="money">Money: 0</div>
          <br>
        </div>

        <div id="collectibleEffects">

        </div>

      <div id="consumableBag">
      </div>

      <div id="directoryContainer">
        <div id="directoryBox">
          <h2>You have <span id="choicesLeft">2</span> choice(s) left! (Test - Multiple choices not functional)</h2><br>
          <button id="regainStamina">Regain Stamina!</button><br>
          <button id="visitWorkshop">Visit the Medicine Cabinet to customize your dice!</button><br>
          <button id="visitShop">Visit the Break Room to purchase dice and boons!</button>
        </div>
      </div> 

        <div id="buttonDiv">
          <button type="button" id="endTurnBtn">End Turn</button>
          <!-- <button type="button" id="fadeBtn">Pick Color</button> -->
          <button type="button" id="goShopBtn">Shop</button>
          <button type="button" id="goWorkshopBtn">Workshop</button>
          <button type="button" id="resetDiceBtn">Reset Dice</button>
          <input type="checkbox" id="autoEndTurn"><span id="autoEndTurnSpan">Auto Reset</span>
        </div>

        <div id="gameOverMessage">
          <span>Game Ober</span>
        </div>

      </div> <!-- END wrapper -->
    </div> <!-- END wrapperWrapper -->
    
    <!-- <button id="testDirectory">Test Directory</button> -->

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const gameLogs = document.querySelector("#gameLogs");
        const gameLogsTab = document.querySelector("#gameLogsTab");

        gameLogsTab.addEventListener("click", function () {
          gameLogs.classList.toggle("collapsed");
          gameLogsTab.classList.toggle("collapsed");
        });
      });

      document.getElementById("defaultOpen").click();

      function openTab(event, tabName) {
        var tabcontent = document.getElementsByClassName("diceRolling");
        for (var i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }

        var diceTabs = document.getElementsByClassName("diceTabs");
        for (var i = 0; i < diceTabs.length; i++) {
          diceTabs[i].className = diceTabs[i].className.replace(" active", "");
        }

        document.getElementById(tabName).style.display = "block";
        event.currentTarget.className += " active";
      }

      function switchChart(chartId, activeTabId, inactiveTabId) {
        var charts = document.querySelectorAll('.henchmenChart');
        charts.forEach(function(chart) {
          chart.style.display = 'none';
        });
        document.getElementById(chartId).style.display = 'block';
      }
    </script>

    <!-- <script>
      document.addEventListener('DOMContentLoaded', function() {
        const fadeBtn = document.querySelector('#fadeBtn');
        const backBtn = document.querySelector('#backBtn');
        const colorBox = document.querySelector('#colorBox');

        fadeBtn.addEventListener("click", (e) => {
          colorBox.style.display = "block";
        });
        backBtn.addEventListener("click", (e) => {
          colorBox.style.display = "none";
        });
      });

    </script>

    <script>
      const redRange = document.querySelector('#redRange');
      const greenRange = document.querySelector('#greenRange');
      const blueRange = document.querySelector('#blueRange');
      const colorPicker = document.querySelector('#colorPicker');

      function updateColor() {
        const allDice = document.querySelectorAll('.die-btn');
        const redValue = redRange.value;
        const greenValue = greenRange.value;
        const blueValue = blueRange.value;
        const color = `rgb(${redValue}, ${greenValue}, ${blueValue})`;
        colorPicker.style.backgroundColor = color;

        for (var i = 0; i < allDice.length; i++) {
          allDice[i].style.setProperty('--dieBtnAfterBGColor', color);
        }
      }

      redRange.addEventListener('input', updateColor);
      greenRange.addEventListener('input', updateColor);
      blueRange.addEventListener('input', updateColor);
    </script> -->

    <script type="module" src="src/js/Gameplay.js"></script>

    

  </body>
</html>
